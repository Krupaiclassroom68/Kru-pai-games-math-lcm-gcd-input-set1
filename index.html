<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kru Pai ‚Ä¢ ‡∏Ñ.‡∏£.‡∏ô. &amp; ‡∏´.‡∏£.‡∏°. ‚Äî ‡∏î‡∏≥‡∏™‡πâ‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</title>
<style>
  :root {
    --bg: #0b0f14;        /* ‡∏î‡∏≥‡πÄ‡∏Ç‡πâ‡∏° */
    --card: #111720;      /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏° */
    --ink: #e5e7eb;       /* ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏≠‡πà‡∏≠‡∏ô */
    --muted: #9aa4b2;
    --accent: #ff6f00;    /* ‡∏™‡πâ‡∏° */
    --accent2:#ffaa33;
    --ok:#22c55e;
    --bad:#ef4444;
    --border:#1f2733;
  }
  * { box-sizing:border-box; }
  html, body { margin:0; background:var(--bg); color:var(--ink); font-family:'Segoe UI', system-ui, -apple-system, Tahoma, sans-serif; }
  .wrap { max-width: 980px; margin: 28px auto; padding: 0 16px 64px; }
  header { display:flex; gap:14px; align-items:center; flex-wrap:wrap; margin-bottom: 10px; }
  .logo { width:64px; height:64px; border-radius:18px; display:grid; place-items:center; color:#0b0f14; font-weight:900; background: linear-gradient(145deg, var(--accent), var(--accent2)); box-shadow:0 10px 24px rgba(255,111,0,.2); }
  h1 { margin:0; font-size:clamp(24px,3.6vw,40px); }
  .subtitle { color:var(--muted); }
  .watermark { color:var(--accent2); font-weight:800; }
  .card { background:var(--card); border:1px solid var(--border); border-radius:18px; padding:18px; box-shadow:0 10px 28px rgba(0,0,0,.25); }
  .controls { margin: 14px 0 20px; display:flex; gap:10px; flex-wrap:wrap; }
  button { border:0; border-radius:12px; padding:11px 16px; cursor:pointer; color:#0b0f14; background:var(--accent); font-weight:700; font-size:16px; box-shadow:0 8px 18px rgba(255,111,0,.25); }
  button.secondary { background:#222b36; color:var(--ink); box-shadow:none; border:1px solid var(--border); }
  button.ghost { background:transparent; color:var(--ink); border:1px dashed var(--accent2); }
  input[type="text"], input[type="number"] { background:#0c121a; color:var(--ink); border:1.5px solid var(--border); border-radius:12px; padding:10px 12px; font-size:16px; }
  .qcard { background:#0c121a; border:1px solid var(--border); border-radius:14px; padding:12px 14px; margin-top:8px; }
  .inputs { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; align-items:center; }
  .result { margin-left:8px; font-weight:800; }
  .ok { color:var(--ok); }
  .bad { color:var(--bad); }
  .hint { color:var(--muted); font-size:14px; margin-top:4px; }
  .grid { display:grid; gap:14px; }
  .grid-2 { grid-template-columns: 1fr; }
  @media (min-width: 900px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
  .hidden { display:none !important; }
  footer { margin-top: 28px; color: var(--muted); font-size: 14px; }
  .titlebar { display:flex; align-items:center; justify-content:space-between; gap:12px; margin:10px 0 14px; }
  .pill { background:#18202b; border:1px solid var(--border); color:var(--ink); padding:6px 10px; border-radius:999px; font-size:13px; }
  .scorebox { font-size: clamp(22px, 3vw, 28px); font-weight:900; color:var(--accent2); }
  .summary-card { text-align:center; padding:24px; }
  .name-big { font-size: clamp(22px,3.5vw,30px); font-weight:900; color:#fff; }
  .big-score { font-size: clamp(40px,6vw,72px); font-weight:900; color:var(--ok); margin: 8px 0; }
  .share-note { color:var(--muted); }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">KP</div>
      <div>
        <h1>Kru Pai ‚Ä¢ ‡∏Ñ.‡∏£.‡∏ô. &amp; ‡∏´.‡∏£.‡∏°. ‚Äî ‡πÇ‡∏ó‡∏ô‡∏î‡∏≥‡∏™‡πâ‡∏°</h1>
        <div class="subtitle">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï 2025-09-14 04:02 ‚Ä¢ ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠ ‚Üí ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å ‚Üí ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Ñ‡∏õ‡∏à‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏π</div>
        <div class="watermark">Kru Pai Classroom</div>
      </div>
    </header>

    <!-- START SCREEN -->
    <section id="screen-start" class="card">
      <h2>‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å</h2>
      <div class="grid grid-2">
        <div>
          <label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label><br/>
          <input id="studentName" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≠‡∏á‡∏û‡∏•‡∏≠‡∏¢ / ‡∏ô‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡πå">
        </div>
        <div>
          <label>‡∏´‡πâ‡∏≠‡∏á/‡∏ä‡∏±‡πâ‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label><br/>
          <input id="studentClass" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°.1/3">
        </div>
      </div>
      <div class="controls">
        <button onclick="startQuiz()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å</button>
        <button class="secondary" onclick="window.print()">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á</button>
      </div>
      <div class="hint">* ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)</div>
    </section>

    <!-- QUIZ SCREEN -->
    <section id="screen-quiz" class="card hidden">
      <div class="titlebar">
        <div class="pill">‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å: <span id="who">-</span></div>
        <div class="scorebox">‡∏ñ‡∏π‡∏Å: <span id="score">0</span> / <span id="total">20</span></div>
      </div>

      <h2>üüß ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ñ.‡∏£.‡∏ô. (10 ‡∏Ç‡πâ‡∏≠)</h2>
      <ol id="lcm-list">
        <!-- LCM problems -->
      </ol>

      <h2 style="margin-top:18px;">üüß ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏´.‡∏£.‡∏°. (10 ‡∏Ç‡πâ‡∏≠)</h2>
      <ol id="gcd-list">
        <!-- GCD problems -->
      </ol>

      <div class="controls">
        <button onclick="finishQuiz()">‡∏à‡∏ö‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å &gt; ‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
        <button class="secondary" onclick="resetAll()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      </div>
    </section>

    <!-- SUMMARY SCREEN -->
    <section id="screen-summary" class="card hidden summary-card">
      <div class="pill">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• ‚Ä¢ ‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</div>
      <div class="name-big" id="sum-name">-</div>
      <div style="margin:6px 0 14px; color:var(--muted);" id="sum-class"></div>
      <div class="big-score"><span id="sum-correct">0</span> / 20</div>
      <div class="share-note">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÑ‡∏î‡πâ ‚â• 16 ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‚ú®</div>
      <div class="controls" style="justify-content:center;">
        <button onclick="window.print()">‡∏û‡∏¥‡∏°‡∏û‡πå / ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å PDF</button>
        <button class="secondary" onclick="backToStart()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
      </div>
    </section>

    <footer>¬© Kru Pai Classroom ‚Äî Black &amp; Orange Edition ‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢ ‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ‚úÖ‚ùå</footer>
  </div>

<script>
const lcmProblems = [
  { q:"‡∏£‡∏ñ‡∏™‡∏≠‡∏á‡∏Ñ‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å 12 ‡πÅ‡∏•‡∏∞ 18 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 08:00 ‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ?", a:["36"], unit:"‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡πÑ‡∏ü‡∏ñ‡∏ô‡∏ô‡∏™‡∏≠‡∏á‡∏´‡∏•‡∏≠‡∏î‡∏Å‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ó‡∏∏‡∏Å 15 ‡πÅ‡∏•‡∏∞ 20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏à‡∏∞‡∏Å‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ?", a:["60"], unit:"‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•‡∏ó‡∏∏‡∏Å 14 ‡∏ß‡∏±‡∏ô ‡∏ö‡∏≤‡∏™‡πÄ‡∏Å‡∏ï‡∏ö‡∏≠‡∏•‡∏ó‡∏∏‡∏Å 21 ‡∏ß‡∏±‡∏ô ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô ‡∏à‡∏∞‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?", a:["42"], unit:"‡∏ß‡∏±‡∏ô" },
  { q:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å 24 ‡πÅ‡∏•‡∏∞ 30 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏° 09:00 ‡∏à‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ?", a:["120"], unit:"‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏ï‡∏µ‡∏ó‡∏∏‡∏Å 25 ‡πÅ‡∏•‡∏∞ 30 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ï‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 12:00 ‡∏à‡∏∞‡∏ï‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ?", a:["150"], unit:"‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡∏£‡∏ñ‡∏ö‡∏±‡∏™‡∏≠‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å 45 ‡πÅ‡∏•‡∏∞ 60 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ?", a:["180"], unit:"‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡∏à‡∏±‡∏î‡πÅ‡∏ñ‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏ñ‡∏ß‡∏•‡∏∞ 8 ‡πÅ‡∏•‡∏∞ 12 ‡∏Å‡∏•‡πà‡∏≠‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏ä‡∏¥‡πâ‡∏ô‡∏à‡∏∂‡∏á‡∏•‡∏á‡∏ï‡∏±‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö (‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)?", a:["24"], unit:"‡∏ä‡∏¥‡πâ‡∏ô" },
  { q:"‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πà‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 6 ‡πÅ‡∏•‡∏∞ 9 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏à‡∏∞‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ?", a:["18"], unit:"‡∏ô‡∏≤‡∏ó‡∏µ" },
  { q:"‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏±‡∏ô ‡∏ß‡∏¥‡∏ó‡∏¢‡πå‡∏ó‡∏∏‡∏Å 4 ‡∏ß‡∏±‡∏ô ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏ó‡∏∏‡∏Å 6 ‡∏ß‡∏±‡∏ô ‡∏à‡∏∞‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡πÉ‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?", a:["12"], unit:"‡∏ß‡∏±‡∏ô" },
  { q:"‡∏Ç‡∏ß‡∏î 150 ‡πÅ‡∏•‡∏∞ 200 ‡∏°‡∏•. ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏∏‡∏î‡∏ã‡∏∂‡πà‡∏á‡∏•‡∏á‡∏ï‡∏±‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö (‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡∏£)", a:["600"], unit:"‡∏°‡∏•." }
];

const gcdProblems = [
  { q:"‡∏•‡∏π‡∏Å‡∏≠‡∏° 48 ‡πÄ‡∏°‡πá‡∏î & ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï 60 ‡πÄ‡∏°‡πá‡∏î ‡∏ó‡∏≥‡∏ä‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏Å‡∏µ‡πà‡∏ä‡∏∏‡∏î, ‡∏•‡∏π‡∏Å‡∏≠‡∏°/‡∏ä‡∏∏‡∏î, ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï/‡∏ä‡∏∏‡∏î", a:["12","4","5"], unit:"‡∏ä‡∏∏‡∏î/‡πÄ‡∏°‡πá‡∏î/‡πÄ‡∏°‡πá‡∏î" },
  { q:"‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 72 ‡∏Ñ‡∏ô ‡πÅ‡∏•‡∏∞ 84 ‡∏Ñ‡∏ô ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏Ñ‡∏ô/‡∏Å‡∏•‡∏∏‡πà‡∏°", a:["12"], unit:"‡∏Ñ‡∏ô" },
  { q:"‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á 36 ‡πÅ‡∏ú‡πà‡∏ô & ‡∏ô‡∏° 54 ‡∏Å‡∏•‡πà‡∏≠‡∏á ‡∏ó‡∏≥‡∏ä‡∏∏‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏á: ‡∏Å‡∏µ‡πà‡∏ä‡∏∏‡∏î, ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á/‡∏ä‡∏∏‡∏î, ‡∏ô‡∏°/‡∏ä‡∏∏‡∏î", a:["18","2","3"], unit:"‡∏ä‡∏∏‡∏î/‡πÅ‡∏ú‡πà‡∏ô/‡∏Å‡∏•‡πà‡∏≠‡∏á" },
  { q:"‡πÇ‡∏ï‡πä‡∏∞ 96 ‡∏ï‡∏±‡∏ß & ‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ 120 ‡∏ï‡∏±‡∏ß ‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∏‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ‡∏Å‡∏µ‡πà‡∏ä‡∏∏‡∏î, ‡πÇ‡∏ï‡πä‡∏∞/‡∏ä‡∏∏‡∏î, ‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ/‡∏ä‡∏∏‡∏î", a:["24","4","5"], unit:"‡∏ä‡∏∏‡∏î/‡∏ï‡∏±‡∏ß/‡∏ï‡∏±‡∏ß" },
  { q:"‡∏ä‡∏≤‡∏¢ 56 & ‡∏´‡∏ç‡∏¥‡∏á 98 ‡∏à‡∏±‡∏î‡πÅ‡∏ñ‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏Å‡∏µ‡πà‡πÅ‡∏ñ‡∏ß, ‡∏ä‡∏≤‡∏¢/‡πÅ‡∏ñ‡∏ß, ‡∏´‡∏ç‡∏¥‡∏á/‡πÅ‡∏ñ‡∏ß", a:["14","4","7"], unit:"‡πÅ‡∏ñ‡∏ß/‡∏Ñ‡∏ô/‡∏Ñ‡∏ô" },
  { q:"‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• 84 ‡∏Å‡∏Å. & ‡πÅ‡∏õ‡πâ‡∏á 126 ‡∏Å‡∏Å. ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∏‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô: ‡∏Å‡∏µ‡πà‡∏ä‡∏∏‡∏î, ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•/‡∏ä‡∏∏‡∏î, ‡πÅ‡∏õ‡πâ‡∏á/‡∏ä‡∏∏‡∏î", a:["42","2","3"], unit:"‡∏ä‡∏∏‡∏î/‡∏Å‡∏Å./‡∏Å‡∏Å." },
  { q:"‡∏ó‡πà‡∏≠‡∏ô‡πÄ‡∏´‡∏•‡πá‡∏Å 72 ‡∏°. & 108 ‡∏°. ‡∏ï‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡πà‡∏≠‡∏ô‡∏¢‡πà‡∏≠‡∏¢‡∏¢‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô: ‡πÄ‡∏°‡∏ï‡∏£/‡∏ó‡πà‡∏≠‡∏ô", a:["36"], unit:"‡πÄ‡∏°‡∏ï‡∏£" },
  { q:"‡∏î‡∏¥‡∏ô‡∏™‡∏≠ 132 ‡πÅ‡∏ó‡πà‡∏á & ‡∏¢‡∏≤‡∏á‡∏•‡∏ö 180 ‡∏Å‡πâ‡∏≠‡∏ô ‡∏ó‡∏≥‡∏ä‡∏∏‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏Å‡∏µ‡πà‡∏ä‡∏∏‡∏î, ‡∏î‡∏¥‡∏ô‡∏™‡∏≠/‡∏ä‡∏∏‡∏î, ‡∏¢‡∏≤‡∏á‡∏•‡∏ö/‡∏ä‡∏∏‡∏î", a:["12","11","15"], unit:"‡∏ä‡∏∏‡∏î/‡πÅ‡∏ó‡πà‡∏á/‡∏Å‡πâ‡∏≠‡∏ô" },
  { q:"‡πÅ‡∏ñ‡∏ö‡∏ú‡πâ‡∏≤ 150 ‡∏ã‡∏°. & 210 ‡∏ã‡∏°. ‡∏ï‡∏±‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡πÄ‡∏ã‡∏ô‡∏ï‡∏¥‡πÄ‡∏°‡∏ï‡∏£/‡∏ä‡∏¥‡πâ‡∏ô", a:["30"], unit:"‡∏ã‡∏°." },
  { q:"‡∏™‡πâ‡∏° 90 ‡∏ú‡∏• ‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡∏• 120 ‡∏ú‡∏• ‡∏Å‡∏•‡πâ‡∏ß‡∏¢ 150 ‡∏ú‡∏• ‡πÅ‡∏ö‡πà‡∏á‡∏•‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á", a:["30"], unit:"‡∏Å‡∏•‡πà‡∏≠‡∏á" }
];

let score = 0;
const total = lcmProblems.length + gcdProblems.length;
const state = {}; // ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠
document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('total').textContent = total;
  buildList('lcm-list', lcmProblems, 'LCM');
  buildList('gcd-list', gcdProblems, 'GCD');
});

function buildList(targetId, arr, prefix) {
  const ul = document.getElementById(targetId);
  arr.forEach((p, idx) => {
    const li = document.createElement('li');
    const id = `${prefix}-${idx+1}`;
    li.innerHTML = `
      ${p.q}
      <div class="qcard">
        <div class="hint">‡∏´‡∏ô‡πà‡∏ß‡∏¢: ${p.unit}</div>
        <div class="inputs" data-id="${id}" data-ans="${p.a.join('|')}">
          ${p.a.map(() => '<input type="number" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö">').join('')}
          <button onclick="check(this)">‡∏ï‡∏£‡∏ß‡∏à</button>
          <span class="result"></span>
        </div>
      </div>`;
    ul.appendChild(li);
  });
}

function startQuiz() {
  const name = (document.getElementById('studentName').value || '').trim();
  const room = (document.getElementById('studentClass').value || '').trim();
  if (!name) { alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞'); return; }
  document.getElementById('who').textContent = name + (room ? ' ‚Ä¢ ' + room : '');
  // ‡∏™‡∏•‡∏±‡∏ö‡∏à‡∏≠
  document.getElementById('screen-start').classList.add('hidden');
  document.getElementById('screen-quiz').classList.remove('hidden');
  window.scrollTo(0,0);
}

function parseNum(v) { if(v===''||v===null||v===undefined) return null; return Number(v); }

function check(btn) {
  const box = btn.closest('.inputs');
  const ans = box.dataset.ans.split('|').map(Number);
  const id = box.dataset.id;
  const inputs = Array.from(box.querySelectorAll('input[type=number]'));
  const got = inputs.map(i => parseNum(i.value));
  const res = box.querySelector('.result');

  if (got.some(v => v===null || Number.isNaN(v))) {
    res.textContent = '‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞';
    res.className = 'result bad';
    return;
  }

  let ok = true;
  for (let i=0;i<ans.length;i++) { if (got[i] !== ans[i]) { ok = false; break; } }
  if (ok) {
    if (!state[id]) { state[id] = true; score++; document.getElementById('score').textContent = score; }
    res.textContent = '‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πâ‡∏≤ ‚úÖ';
    res.className = 'result ok';
    // ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏û‡∏∏‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å
    inputs.forEach(i => i.disabled = true);
    btn.disabled = true;
  } else {
    state[id] = false;
    res.textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà ‚ùå';
    res.className = 'result bad';
  }
}

function finishQuiz() {
  // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ summary
  const name = document.getElementById('studentName').value.trim();
  const room = (document.getElementById('studentClass').value || '').trim();
  document.getElementById('sum-name').textContent = name || '-';
  document.getElementById('sum-class').textContent = room ? ('‡∏ä‡∏±‡πâ‡∏ô/‡∏´‡πâ‡∏≠‡∏á: ' + room) : '';
  document.getElementById('sum-correct').textContent = score;
  document.getElementById('screen-quiz').classList.add('hidden');
  document.getElementById('screen-summary').classList.remove('hidden');
  window.scrollTo(0,0);
}

function resetAll() {
  score = 0;
  for (const k in state) delete state[k];
  document.getElementById('score').textContent = 0;
  document.querySelectorAll('input[type="number"]').forEach(i=>{ i.value=''; i.disabled=false; });
  document.querySelectorAll('.result').forEach(r=>{ r.textContent=''; r.className='result'; });
  document.querySelectorAll('.inputs button').forEach(b=> b.disabled=false);
}

function backToStart() {
  resetAll();
  document.getElementById('studentName').value='';
  document.getElementById('studentClass').value='';
  document.getElementById('screen-summary').classList.add('hidden');
  document.getElementById('screen-start').classList.remove('hidden');
  window.scrollTo(0,0);
}
</script>
</body>
</html>
